---
import Layout from "../../layouts/Layout.astro";
import CoursePage from "../../components/CoursePage";
import { getCourseBySlugs } from "../../lib/courses";
import { generateCourseSchema } from "../../lib/schemas";

const course = getCourseBySlugs("transporte-emergencial");

if (!course) {
  return new Response("Curso n√£o encontrado", { status: 404 });
}

const courseSchema = generateCourseSchema(course);
const whatsappNumber = "18999999999";
---

<Layout>
  <CoursePage client:load course={course} whatsappNumber={whatsappNumber} />

  <!-- Schema Markup for SEO -->
  <script type="application/ld+json" set:html={JSON.stringify(courseSchema)} />
</Layout>
